# ğŸ“¦ Version 0.7.0 â€” Release Notes Papaours
_04 dÃ©cembre 2025_

## ğŸ¢ Employeurs & OPCO

### Rattachement automatique Ã  lâ€™OPCO
Papaours dÃ©termine automatiquement lâ€™OPCO dâ€™un employeur via :
- le **SIRET** (recherche externe)
- lâ€™**IDCC** (rÃ©fÃ©rentiel interne)

Si un OPCO est trouvÃ©, il est rattachÃ© automatiquement avec source :
- Automatique (via SIRET)
- Automatique (via IDCC)

Les informations enregistrÃ©es incluent SIREN, nom commercial, date et origine.

### Affichage du dÃ©tail de lâ€™OPCO
Depuis la fiche employeur, un bouton ouvre une pop-up affichant :
- Nom commercial
- SIREN
- MÃ©thode de dÃ©termination
- Date
- Auteur
- Lien web

### Saisie manuelle de lâ€™OPCO
Un utilisateur autorisÃ© peut modifier manuellement lâ€™OPCO :
- SÃ©lection dans la liste des OPCO connus
- Enregistrement avec origine â€œManuelleâ€
- Historisation

### Statuts personnalisÃ©s
Vous pouvez maintenant crÃ©er, modifier et supprimer des statuts employeurs personnalisÃ©s.

---

## ğŸ“š Dossiers de formation & SFP avant contrat

### Passage automatique Ã  lâ€™Ã©tat â€œSFP avant contratâ€
Une nouvelle pÃ©riode SFP active fait automatiquement basculer le dossier dans cet Ã©tat.

Un traitement quotidien maintient la cohÃ©rence des Ã©tats.

### Annulation dâ€™une pÃ©riode SFP
Une SFP active peut Ãªtre annulÃ©e si l'utilisateur dispose de la permission.

Effets :
- Statut SFP = AnnulÃ©e
- Retour du dossier Ã  lâ€™Ã©tat â€œInscritâ€
- Historisation

### ClÃ´ture automatique dâ€™une SFP arrivÃ©e Ã  terme
Un batch clÃ´ture les SFP dont :
- la date de fin thÃ©orique = aujourdâ€™hui
- la date de fin rÃ©elle est vide

La SFP passe Ã  lâ€™Ã©tat â€œTerminÃ©eâ€.

### Fin automatique Ã  la crÃ©ation dâ€™un contrat
La veille de la date de dÃ©but du contrat devient la date rÃ©elle de fin de la SFP.

---

## ğŸ“‹ Contrats dâ€™apprentissage

### Annulation dâ€™un contrat non commencÃ©
Un contrat peut Ãªtre annulÃ© tant quâ€™il nâ€™a pas dÃ©butÃ©.

Effets :
- Statut = ANNULÃ‰
- Lecture seule
- DÃ©-rattachement du dossier
- Historisation

### Tag â€œEmployeur connuâ€
Lors de la crÃ©ation dâ€™un brouillon :
- Les employeurs existants sont signalÃ©s avec un tag bleu.

### RÃ©organisation de lâ€™interface selon la version de contrat
Les sections :
- â€œParcours apprenantâ€
- â€œType dâ€™employeurâ€

sâ€™adaptent Ã  la version CERFA (V11 / V13 / V14).

### Listes versionnÃ©es CERFA
Les listes suivantes sont dÃ©pendantes de la version du contrat :
- Types de diplÃ´mes
- Situations avant contrat
- DerniÃ¨re annÃ©e/classe suivie
- Types dâ€™employeur

---

## ğŸ‘¤ DonnÃ©es apprenant

### Normalisation des noms et prÃ©noms
Papaours applique automatiquement :
- Noms â†’ MAJUSCULES
- PrÃ©noms â†’ Majuscule + minuscules

Validation :
- Formats interdits bloquÃ©s
- Erreurs explicites
- Historisation uniquement en cas de changement rÃ©el

---

## ğŸ“ Sessions de formation

### Voie dâ€™accÃ¨s Ã  lâ€™inscription
Lors de lâ€™inscription, lâ€™utilisateur doit indiquer la **voie dâ€™accÃ¨s**.
Elle influence :
- Le type du dossier
- Les rÃ¨gles applicables
- Les contrÃ´les associÃ©s

---

## ğŸ¨ AmÃ©liorations UI / UX

### Accueil
- Responsive amÃ©liorÃ©
- Lien direct dans le menu

### Documents
- RafraÃ®chissement automatique de la gÃ©nÃ©ration

### Formulaires
- Alignements corrigÃ©s
- Bugs UI rÃ©solus

---

## ğŸ› ï¸ Correctifs

### Employeurs
- Correction du bug de modification

### Formations
- Correction du refus en approbation

### Machines
- RÃ´les et groupes protÃ©gÃ©s
- Historique enrichi

### Documents
- Correction du type transmis

### Permissions
- Lecture auto-corrigÃ©e
- Corrections dans les mappings des templates

---

## âš™ï¸ AmÃ©liorations techniques

### Performances
- Lazy loading des permissions
- Optimisation persistance organisations
- RÃ©utilisation des conteneurs PostgreSQL

### Frameworks
- Spring Boot 3.5.7
- Next.js 16
- Correction Auth0

### RÃ©fÃ©rentiel
- Recherche OPCO ajoutÃ©e
- Source via IDCC affichÃ©e

---

## ğŸ“… Versions concernÃ©es

| Application | Version prÃ©cÃ©dente | Version actuelle |
|------------|--------------------|------------------|
| Front | v0.254.6 | v0.271.2 |
| Back | v0.337.5 | v0.373.2 |